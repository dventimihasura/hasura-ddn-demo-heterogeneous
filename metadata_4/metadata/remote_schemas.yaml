- name: hasura_1
  definition:
    url: http://hasura_1:8080/v1/graphql
    timeout_seconds: 60
    customization: {}
    headers:
      - name: x-hasura-admin-secret
        value: hasura
    forward_client_headers: true
  comment: postgres
- name: hasura_2
  definition:
    url: http://hasura_2:8080/v1/graphql
    timeout_seconds: 60
    customization: {}
    headers:
      - name: x-hasura-admin-secret
        value: hasura
    forward_client_headers: true
  comment: mongo
  remote_relationships:
    - relationships:
        - definition:
            to_remote_schema:
              lhs_fields:
                - GenreId
              remote_field:
                Genre_by_pk:
                  arguments:
                    GenreId: $GenreId
              remote_schema: hasura_1
          name: genre
        - definition:
            to_remote_schema:
              lhs_fields:
                - MediaTypeId
              remote_field:
                MediaType_by_pk:
                  arguments:
                    MediaTypeId: $MediaTypeId
              remote_schema: hasura_1
          name: mediatype
        - definition:
            to_remote_schema:
              lhs_fields:
                - TrackId
              remote_field:
                PlaylistTrack:
                  arguments:
                    where:
                      TrackId:
                        _eq: $TrackId
              remote_schema: hasura_1
          name: playlists
      type_name: Track
- name: hasura_3
  definition:
    url: http://hasura_3:8080/v1/graphql
    timeout_seconds: 60
    customization: {}
    headers:
      - name: x-hasura-admin-secret
        value: hasura
    forward_client_headers: true
  comment: algolia
  remote_relationships:
    - relationships:
        - definition:
            to_remote_schema:
              lhs_fields:
                - objectID
              remote_field:
                Artist_by_pk:
                  arguments:
                    _id: $objectID
              remote_schema: hasura_2
          name: artist
      type_name: ArtistHit
    - relationships:
        - definition:
            to_remote_schema:
              lhs_fields:
                - objectID
              remote_field:
                Album_by_pk:
                  arguments:
                    _id: $objectID
              remote_schema: hasura_2
          name: album
      type_name: AlbumHit
    - relationships:
        - definition:
            to_remote_schema:
              lhs_fields:
                - objectID
              remote_field:
                Track_by_pk:
                  arguments:
                    _id: $objectID
              remote_schema: hasura_2
          name: track
      type_name: TrackHit
